#!env python

PROGRAM = ''
ARGS    = []
ENV     = {}
SERVER  = ('', 80)

GDBSCRIPT = """
set $var = 0xdeadbeef
"""

#######################################################################

from os.path import join, dirname, isdir, isfile

PROGRAM       = join(dirname(__file__), PROGRAM)
COMMAND       = [PROGRAM, *ARGS]
DEBUG_COMMAND = ['setarch', '-R', *COMMAND]
LIB           = join(dirname(__file__), "lib")
LD            = join(LIB, 'ld.so')

if isdir(LIB) and isfile(LD):
    COMMAND       = [LD, '--library-path', LIB, *COMMAND]
    DEBUG_COMMAND = ['setarch', '-R', *COMMAND]

#######################################################################

from pwn import *

context.binary    = PROGRAM
context.log_level = 'debug'

con = process(DEBUG_COMMAND, env=ENV)
# con = gdb.debug(COMMAND, env=ENV, aslr=False, gdbscript=GDBSCRIPT)
# con = remote(*SERVER)

# gdb.attach(con, gdbscript=GDBSCRIPT)

con.interactive()
